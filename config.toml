model = "gpt-5.2-codex"
model_reasoning_effort = "xhigh"
network_access = true
approval_policy = "never"
sandbox_mode = "danger-full-access"

# `notify` はトップレベルのキーです（`[notice]`の中に置くと効きません）。
# Codex は最後の引数として JSON を渡して呼び出します。`bash -lc` を挟むと余計な引数の影響を受けません。
# WSL2 では Windows 側の音源を鳴らすのが確実なので、PowerShell で Windows の通知音 (.wav) を再生します。
notify = ["bash", "-lc", "tmp=$(mktemp); printf '%s' \"$0\" > \"$tmp\"; win=$(wslpath -w \"$tmp\"); for i in 1 2 3; do powershell.exe -NoProfile -NoLogo -Command '& { param($ignore, $path) $line1 = \"Turn complete\"; $line2 = \"Turn complete\"; try { $json = Get-Content -Raw -Encoding UTF8 -LiteralPath $path; $n = $json | ConvertFrom-Json -ErrorAction Stop; $candidate = $n.\"last-assistant-message\"; if (-not $candidate) { $candidate = ($n.\"input-messages\" -join \" \") }; if ($candidate) { $line1 = $candidate } } catch { }; $line1 = ($line1 -replace \"\\s+\", \" \").Trim(); if ($line1.Length -gt 200) { $line1 = $line1.Substring(0, 200) + \"…\" }; try { [Windows.UI.Notifications.ToastNotificationManager, Windows.UI.Notifications, ContentType = WindowsRuntime] | Out-Null; $doc=[Windows.UI.Notifications.ToastNotificationManager]::GetTemplateContent([Windows.UI.Notifications.ToastTemplateType]::ToastText02); $nodes=$doc.GetElementsByTagName(\"text\"); $nodes.Item(0).AppendChild($doc.CreateTextNode($line1)) | Out-Null; $nodes.Item(1).AppendChild($doc.CreateTextNode($line2)) | Out-Null; $toast=[Windows.UI.Notifications.ToastNotification]::new($doc); $toast.SuppressPopup = $false; [Windows.UI.Notifications.ToastNotificationManager]::CreateToastNotifier(\"Codex\").Show($toast); } catch { } }' --% \"$win\" && break; sleep 0.2; done; rm -f \"$tmp\""]

[projects."/home/kei/.local"]
trust_level = "untrusted"

[projects."/home/kei/.local/dev/ai-hack/ai-hack-starter"]
trust_level = "trusted"
sandbox_mode= "danger-full-access"

[projects."/home/kei/.codex"]
trust_level = "untrusted"

[notice]
"hide_gpt-5.1-codex-max_migration_prompt" = true

hide_full_access_warning = true

[notice.model_migrations]
"gpt-5.1-codex-max" = "gpt-5.2-codex"

[mcp_servers.serena]
command = "uvx"
args = ["--from", "git+https://github.com/oraios/serena", "serena", "start-mcp-server", "--context", "codex"]

[mcp_servers.playwright]
command = "npx"
args = ["@playwright/mcp@latest"]
